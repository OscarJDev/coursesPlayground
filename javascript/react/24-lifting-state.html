<!DOCTYPE html>
<html>
  <head>
    <title>
      Lifting and Colocating React State
    </title>
  </head>
  <body>
    <div id="root"></div>
    <script src="https://unpkg.com/react@16.12.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16.12.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.8.3/babel.js"></script>
    <script type="text/babel"> 
      function Name({name, onNameChange}) {
        return (
          <div>
            <label htmlFor='name-input'>Name </label>
            <input id='name-input' value={name} onChange={onNameChange} />
          </div>
        )
      }

      function FavoriteAnimal({animal, onAnimalChange}) {
        /* When this state is needed in a sibling component, it has to be lifted up to the nearest common parent in order to share it with all elements requiring it

        const [animal, setAnimal] = React.useState('')
        
        function handleChange(event) {
          setAnimal(event.target.value)
        } 
        */
        return (
          <div>
            <label htmlFor='animal-input'>Animal </label>
            <input id='animal-input' value={animal} onChange={onAnimalChange} />
          </div>
        )
      }

      function Display({name, animal}) {
        return (
          animal ? <div>Hey {name}, your favorite animal is {animal}</div>
          : <div>Hey {name}, you are great!</div>
        )
      }
      
      function App() {
        const [name, setName] = React.useState('')
        const [animal, setAnimal] = React.useState('')

        function handleNameChange(event) {
          setName(event.target.value)
        }
        
        function handleAnimalChange(event) {
          setAnimal(event.target.value)
        }
        
        return (
          <form>
            <Name
              name={name}
              onNameChange={handleNameChange}
            />
            <FavoriteAnimal 
              animal={animal} 
              onAnimalChange={handleAnimalChange} 
            />
            <Display 
              name={name} 
              animal={animal} 
            />
          </form>
        ) 
      }

      ReactDOM.render(<App />, document.getElementById('root'))
    </script>
  </body>
</html>